{% extends 'base.html' %}
{% block alerta %}
  {% if disp == True %}
  <div class="notification is-danger has-text-centered mb-0" id="login">
  {% else %}
  <div class="notification is-danger has-text-centered mb-0" id="login" style="display: none;">
  {% endif %}
      <button class="delete"></button>
      <p class="is-size-5"><span class="title is-4">El nombre de usuario ya existe.</span> Vuelva a intentarlo.</p>
  </div>
{% endblock %}
{% block contenido %}
    <div class="columns m-0">
        <div class="column px-6 py-4">
            <div class="box has-background-grey-dark has-text-light" style="height: 100%;">
              <!-- TITULO CON BREADCRUMB -->
              <div class="columns no-min-height m-0 mb-5" style="height: auto">
                <div class="column is-3 has-text-left p-0">
                  <a class="is-crumb has-text-grey-lighter has-text-weight-bold" href="/usuarios">
                    <span class="icon"><i class="fa fa-chevron-left"></i></span>
                    <span>Usuarios</span>
                    </a>
                </div>
                <div class="column p-0" style="padding-right: 25% !important;">
                  <h1 class="title is-4 has-text-light has-text-weight-bold">EDITAR USUARIO</h1>
                </div>
              </div>
                <form class="lg" method="POST" enctype="multipart/form-data">
                    <div class="columns no-min-height m-0" style="height: calc(100% - 6rem);">
                        <div class="column py-5 px-6 mx-5">
                            <div class="field has-text-left">
                                <label class="label subtitle is-6 has-text-light" id="asignacion"><span>Asignación</span></label>
                                <div class="control">
                                    <input class="input" name="asignacion" type="text" value="{{ i['asignacion'] }}" placeholder="Nombre de empleado a asignar usuario" required>
                                  </div>
                                </div>
                            <div class="field has-text-left">
                                <label class="label subtitle is-6 has-text-light" id="user"><span>Nombre de usuario</span></label>
                                <div class="control">
                                    <input class="input" name="user" type="text" value="{{ i['user'] }}" required>
                                  </div>
                            </div>
                            <div class="field has-text-left">
                                <label class="label subtitle is-6 has-text-light">Contraseña</label>
                                <div class="control">
                                    <input class="input" name="password" type="password" value="{{ i['password'] }}" required>
                                  </div>
                            </div>                       
                        </div>
                        <div class="column py-5 px-6 mx-5">
                            <div class="field has-text-left">
                              <label class="label subtitle is-6 has-text-light">Permisos</label>
                              <table class="table is-dark is-bordered is-fullwidth is-size-7">
                                <tr>
                                    <th></th>
                                    <th class="has-text-centered">Agregar</th>
                                    <th class="has-text-centered">Ver</th>
                                    <th class="has-text-centered">Editar</th>
                                    <th class="has-text-centered">Borrar</th>
                                </tr>
                                <tr>
                                    <th>F. Proveedores</th>
                                    <td><input id="fp_c" name="fp_c" value="{{ i['roles']['fp_c'] }}" type="checkbox"></td>
                                    <td><input id="fp_r" name="fp_r" value="{{ i['roles']['fp_r'] }}" type="checkbox"></td>
                                    <td><input id="fp_u" name="fp_u" value="{{ i['roles']['fp_u'] }}" type="checkbox"></td>
                                    <td><input id="fp_d" name="fp_d" value="{{ i['roles']['fp_d'] }}" type="checkbox"></td>
                                </tr>
                                <tr>
                                    <th>F. Clientes</th>
                                    <td><input id="fc_c" name="fc_c" value="{{ i['roles']['fc_c'] }}" type="checkbox"></td>
                                    <td><input id="fc_r" name="fc_r" value="{{ i['roles']['fc_r'] }}" type="checkbox"></td>
                                    <td><input id="fc_u" name="fc_u" value="{{ i['roles']['fc_u'] }}" type="checkbox"></td>
                                    <td><input id="fc_d" name="fc_d" value="{{ i['roles']['fc_d'] }}" type="checkbox"></td>
                                </tr>
                                <tr>
                                    <th>Pedimentos</th>
                                    <td><input id="p_c" name="p_c" value="{{ i['roles']['p_c'] }}" type="checkbox"></td>
                                    <td><input id="p_r" name="p_r" value="{{ i['roles']['p_r'] }}" type="checkbox"></td>
                                    <td><input id="p_u" name="p_u" value="{{ i['roles']['p_u'] }}" type="checkbox"></td>
                                    <td><input id="p_d" name="p_d" value="{{ i['roles']['p_d'] }}" type="checkbox"></td>
                                </tr>
                                <tr>
                                    <th>Packing Lists</th>
                                    <td><input id="pl_c" name="pl_c" value="{{ i['roles']['pl_c'] }}" type="checkbox"></td>
                                    <td><input id="pl_r" name="pl_r" value="{{ i['roles']['pl_r'] }}" type="checkbox"></td>
                                    <td><input id="pl_u" name="pl_u" value="{{ i['roles']['pl_u'] }}" type="checkbox"></td>
                                    <td><input id="pl_d" name="pl_d" value="{{ i['roles']['pl_d'] }}" type="checkbox"></td>
                                </tr>
                                <tr>
                                    <th>Catálogo</th>
                                    <td><input id="c_c" name="c_c" value="{{ i['roles']['c_c'] }}" type="checkbox"></td>
                                    <td><input id="c_r" name="c_r" value="{{ i['roles']['c_r'] }}" type="checkbox"></td>
                                    <td><input id="c_u" name="c_u" value="{{ i['roles']['c_u'] }}" type="checkbox"></td>
                                    <td><input id="c_d" name="c_d" value="{{ i['roles']['c_d'] }}" type="checkbox"></td>
                                </tr>
                                <tr>
                                    <th>Archivos</th>
                                    <td><input id="a_c" name="a_c" value="{{ i['roles']['a_c'] }}" type="checkbox"></td>
                                    <td><input id="a_r" name="a_r" value="{{ i['roles']['a_r'] }}" type="checkbox"></td>
                                    <td><input id="a_u" name="a_u" value="{{ i['roles']['a_u'] }}" type="checkbox"></td>
                                    <td><input id="a_d" name="a_d" value="{{ i['roles']['a_d'] }}" type="checkbox"></td>
                                </tr>
                                <tr>
                                    <th>Usuarios</th>
                                    <td><input id="u_c" name="u_c" value="{{ i['roles']['u_c'] }}" type="checkbox"></td>
                                    <td><input id="u_r" name="u_r" value="{{ i['roles']['u_r'] }}" type="checkbox"></td>
                                    <td><input id="u_u" name="u_u" value="{{ i['roles']['u_u'] }}" type="checkbox"></td>
                                    <td><input id="u_d" name="u_d" value="{{ i['roles']['u_d'] }}" type="checkbox"></td>
                                </tr>
                            </table>
                            </div>                  
                        </div>
                    </div>
                    <button class="button has-text-weight-semibold is-black mt-5 mb-4" type="submit">
                      <span class="icon">
                          <i class="fa fa-plus"></i>
                      </span>
                      <span>Editar usuario</span>
                    </button>
              </form>
            </div>
        </div>
    </div>
    <script>
      var inputs = document.getElementsByTagName("input");
      for (i in inputs) if (inputs[i].type == "checkbox") if (inputs[i].value == "True") inputs[i].checked = true
    </script>
{% endblock %}